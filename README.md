# B√°o C√°o: High-Utility Itemset Mining (HUIM)
## Lab_PhatTrien_5315 - Ph√¢n t√≠ch T·∫≠p M·ª•c Gi√° Tr·ªã Cao

+ **Ng√†y th·ª±c hi·ªán:** 20/12/2025  
+ **Ng∆∞·ªùi th·ª±c hi·ªán:** `L∆∞u Thanh T√πng` 
+ **Ph∆∞∆°ng ph√°p:** High-Utility Itemset Mining v·ªõi TWU-based Pruning

---

## üìä T√ìM T·∫ÆT T·ªîNG QUAN

### D·ªØ li·ªáu ƒë·∫ßu v√†o
- **T·ªïng s·ªë giao d·ªãch:** 485,123 d√≤ng
- **S·ªë ho√° ƒë∆°n duy nh·∫•t:** 18,021 ho√° ƒë∆°n
- **S·ªë s·∫£n ph·∫©m duy nh·∫•t:** 4,007 s·∫£n ph·∫©m
- **T·ªïng doanh thu (Utility):** ¬£9,025,222.08
- **Ngu·ªìn d·ªØ li·ªáu:** Online Retail UK (2010-2011)

### Th·ªëng k√™ Utility
| Ch·ªâ s·ªë | Gi√° tr·ªã (¬£) |
|--------|-------------|
| Trung b√¨nh | 18.60 |
| Trung v·ªã | 8.42 |
| Min | 0.001 |
| Max | 168,469.60 |
| Ph√¢n v·ªã 25% | 3.36 |
| Ph√¢n v·ªã 75% | 16.95 |

---

## ‚öôÔ∏è C·∫§U H√åNH THU·∫¨T TO√ÅN

### Tham s·ªë Mining
- **Ng∆∞·ª°ng Min Utility:** ¬£902,522.21 (10% t·ªïng doanh thu)
- **ƒê·ªô d√†i t·ªëi ƒëa itemset:** 2 (1-itemsets v√† 2-itemsets)
- **Thu·∫≠t to√°n:** TWU-based High-Utility Itemset Mining
- **Th·ªùi gian ch·∫°y:** 49.39 gi√¢y

### K·∫øt qu·∫£ Mining
- **S·ªë item c√≥ TWU ‚â• min_utility:** 65 items
- **S·ªë 1-itemsets HUI:** 0
- **S·ªë 2-itemsets HUI:** 0
- **T·ªïng High-Utility Itemsets:** 0

> ‚ö†Ô∏è **L∆∞u √Ω:** V·ªõi ng∆∞·ª°ng 10% (¬£902,522.21), kh√¥ng c√≥ itemset ƒë∆°n l·∫ª ho·∫∑c c·∫∑p s·∫£n ph·∫©m n√†o ƒë·∫°t ng∆∞·ª°ng utility n√†y. ƒêi·ªÅu n√†y cho th·∫•y doanh thu ph√¢n t√°n tr√™n nhi·ªÅu s·∫£n ph·∫©m thay v√¨ t·∫≠p trung v√†o m·ªôt v√†i itemsets c·ª• th·ªÉ.

---

## üí∞ TOP 20 S·∫¢N PH·∫®M THEO UTILITY

| # | S·∫£n ph·∫©m | Utility (¬£) | % T·ªïng | Frequency | % Ho√° ƒë∆°n |
|---|----------|-------------|--------|-----------|-----------|
| 1 | **DOTCOM POSTAGE** | 206,248.77 | 2.29% | 706 | 3.92% |
| 2 | **PAPER CRAFT, LITTLE BIRDIE** | 168,469.60 | 1.87% | 1 | 0.01% |
| 3 | **REGENCY CAKESTAND 3 TIER** | 142,273.29 | 1.58% | 1,685 | 9.35% |
| 4 | **WHITE HANGING HEART T-LIGHT HOLDER** | 100,497.72 | 1.11% | 2,162 | 12.00% |
| 5 | **PARTY BUNTING** | 93,658.53 | 1.04% | 1,593 | 8.84% |
| 6 | **JUMBO BAG RED RETROSPOT** | 86,471.34 | 0.96% | 1,935 | 10.74% |
| 7 | **MEDIUM CERAMIC TOP STORAGE JAR** | 80,575.63 | 0.89% | 225 | 1.25% |
| 8 | **PAPER CHAIN KIT 50'S CHRISTMAS** | 62,742.54 | 0.70% | 1,125 | 6.24% |
| 9 | **ASSORTED COLOUR BIRD ORNAMENT** | 54,756.79 | 0.61% | 1,371 | 7.61% |
| 10 | **CHILLI LIGHTS** | 53,336.56 | 0.59% | 650 | 3.61% |
| 11 | **PICNIC BASKET WICKER 60 PIECES** | 39,619.50 | 0.44% | 2 | 0.01% |
| 12 | **BLACK RECORD COVER FRAME** | 39,442.17 | 0.44% | 357 | 1.98% |
| 13 | **JUMBO BAG PINK POLKADOT** | 38,571.40 | 0.43% | 1,159 | 6.43% |
| 14 | **RABBIT NIGHT LIGHT** | 38,087.95 | 0.42% | 833 | 4.62% |
| 15 | **SPOTTY BUNTING** | 37,098.83 | 0.41% | 1,040 | 5.77% |
| 16 | **DOORMAT KEEP CALM AND COME IN** | 37,070.59 | 0.41% | 696 | 3.86% |
| 17 | **Manual** | 35,292.70 | 0.39% | 257 | 1.43% |
| 18 | **WOOD BLACK BOARD ANT WHITE FINISH** | 35,123.97 | 0.39% | 654 | 3.63% |
| 19 | **POPCORN HOLDER** | 32,709.32 | 0.36% | 747 | 4.15% |
| 20 | **VICTORIAN GLASS HANGING T-LIGHT** | 32,321.57 | 0.36% | 1,002 | 5.56% |

**T·ªïng Top 20:** ¬£1,556,348.13 (17.24% t·ªïng doanh thu)

---

## üéØ PH√ÇN LO·∫†I S·∫¢N PH·∫®M

D·ª±a tr√™n ma tr·∫≠n Utility-Frequency (75th percentile), s·∫£n ph·∫©m ƒë∆∞·ª£c ph√¢n lo·∫°i th√†nh:

| Ph√¢n lo·∫°i | S·ªë l∆∞·ª£ng | % | M√¥ t·∫£ |
|-----------|----------|---|-------|
| **‚≠ê Stars** | 789 | 19.7% | High Utility + High Frequency - S·∫£n ph·∫©m v√†ng |
| **üíé Hidden Gems** | 8 | 0.2% | High Utility + Low Frequency - Ti·ªÅm nƒÉng |
| **Kh√°c** | 3,210 | 80.1% | C√°c s·∫£n ph·∫©m c√≤n l·∫°i |

### üîç Chi ti·∫øt ph√¢n lo·∫°i

#### ‚≠ê Stars (High Utility + High Frequency)
ƒê√¢y l√† nh√≥m s·∫£n ph·∫©m **quan tr·ªçng nh·∫•t** - v·ª´a b√°n ch·∫°y v·ª´a sinh l·ªùi cao:
- Chi·∫øm g·∫ßn 20% t·ªïng s·ªë s·∫£n ph·∫©m
- V√≠ d·ª•: REGENCY CAKESTAND 3 TIER, WHITE HANGING HEART T-LIGHT HOLDER, PARTY BUNTING

#### üíé Hidden Gems (High Utility + Low Frequency)
S·∫£n ph·∫©m c√≥ **gi√° tr·ªã cao nh∆∞ng √≠t ƒë∆∞·ª£c mua**:
- Ch·ªâ c√≥ 8 s·∫£n ph·∫©m (0.2%)
- V√≠ d·ª• n·ªïi b·∫≠t: **PAPER CRAFT, LITTLE BIRDIE** (¬£168,469.60 t·ª´ ch·ªâ 1 giao d·ªãch!)
- V√≠ d·ª• kh√°c: **PICNIC BASKET WICKER 60 PIECES** (¬£39,619.50 t·ª´ 2 giao d·ªãch)

---

## üìà INSIGHTS QUAN TR·ªåNG

### 1. S·ª± kh√°c bi·ªát gi·ªØa Utility v√† Frequency

**V√≠ d·ª• ƒëi·ªÉn h√¨nh:**

| S·∫£n ph·∫©m | Utility (¬£) | Frequency | ƒê·∫∑c ƒëi·ªÉm |
|----------|-------------|-----------|----------|
| PAPER CRAFT, LITTLE BIRDIE | 168,469.60 | 1 | üíé **Hidden Gem** - Gi√° tr·ªã c·ª±c cao, hi·∫øm c√≥ |
| WHITE HANGING HEART T-LIGHT | 100,497.72 | 2,162 | ‚≠ê **Star** - V·ª´a ph·ªï bi·∫øn v·ª´a sinh l·ªùi |
| DOTCOM POSTAGE | 206,248.77 | 706 | ‚≠ê **Star** - Doanh thu cao t·ª´ ph√≠ ship |

### 2. Ph√¢n t√≠ch Top 3 s·∫£n ph·∫©m

#### ü•á #1: DOTCOM POSTAGE (¬£206,248.77)
- **Lo·∫°i:** Ph√≠ v·∫≠n chuy·ªÉn/d·ªãch v·ª•
- **ƒê√≥ng g√≥p:** 2.29% t·ªïng doanh thu
- **Frequency:** 706 l·∫ßn (3.92% ho√° ƒë∆°n)
- **Insight:** ƒê√¢y l√† ngu·ªìn doanh thu ·ªïn ƒë·ªãnh t·ª´ ph√≠ d·ªãch v·ª•

#### ü•à #2: PAPER CRAFT, LITTLE BIRDIE (¬£168,469.60)
- **Lo·∫°i:** S·∫£n ph·∫©m cao c·∫•p/ƒë∆°n h√†ng l·ªõn
- **ƒê√≥ng g√≥p:** 1.87% t·ªïng doanh thu
- **Frequency:** Ch·ªâ 1 l·∫ßn!
- **Insight:** ƒê∆°n h√†ng bulk/wholesale c·ª±c l·ªõn, c√≥ th·ªÉ l√† giao d·ªãch B2B

#### ü•â #3: REGENCY CAKESTAND 3 TIER (¬£142,273.29)
- **Lo·∫°i:** S·∫£n ph·∫©m trang tr√≠ cao c·∫•p
- **ƒê√≥ng g√≥p:** 1.58% t·ªïng doanh thu
- **Frequency:** 1,685 l·∫ßn (9.35% ho√° ƒë∆°n)
- **Insight:** S·∫£n ph·∫©m best-seller th·ª±c s·ª± - v·ª´a ph·ªï bi·∫øn v·ª´a sinh l·ªùi

### 3. Ph√¢n t√≠ch TWU (Transaction-Weighted Utilization)

- **65 items c√≥ TWU ‚â• ¬£902,522.21**
- Nh∆∞ng **kh√¥ng c√≥ itemset n√†o** (ƒë∆°n l·∫ª ho·∫∑c c·∫∑p) ƒë·∫°t ng∆∞·ª°ng utility n√†y
- ƒêi·ªÅu n√†y ch·ª©ng minh: **Doanh thu ph√¢n t√°n**, kh√¥ng t·∫≠p trung v√†o m·ªôt v√†i s·∫£n ph·∫©m/c·∫∑p s·∫£n ph·∫©m

---

## üî¨ SO S√ÅNH: FREQUENT PATTERN vs HIGH-UTILITY MINING

| Kh√≠a c·∫°nh | Frequent Pattern Mining | High-Utility Itemset Mining |
|-----------|------------------------|----------------------------|
| **T·∫≠p trung** | T·∫ßn su·∫•t xu·∫•t hi·ªán | Gi√° tr·ªã kinh t·∫ø (doanh thu) |
| **Ph√°t hi·ªán** | WHITE HANGING HEART (12% ho√° ƒë∆°n) | PAPER CRAFT LITTLE BIRDIE (¬£168K) |
| **B·ªè l·ª°** | ƒê∆°n h√†ng l·ªõn hi·∫øm c√≥ | S·∫£n ph·∫©m b√°n ch·∫°y nh∆∞ng margin th·∫•p |
| **·ª®ng d·ª•ng** | Cross-selling, g·ª£i √Ω s·∫£n ph·∫©m | T·ªëi ∆∞u l·ª£i nhu·∫≠n, qu·∫£n l√Ω inventory |

### V√≠ d·ª• minh h·ªça

**Frequent Pattern Mining s·∫Ω ∆∞u ti√™n:**
- WHITE HANGING HEART T-LIGHT HOLDER (12% ho√° ƒë∆°n)
- REGENCY CAKESTAND 3 TIER (9.35% ho√° ƒë∆°n)

**High-Utility Mining ph√°t hi·ªán th√™m:**
- PAPER CRAFT, LITTLE BIRDIE (¬£168K t·ª´ 1 ƒë∆°n!) 
- PICNIC BASKET WICKER (¬£39K t·ª´ 2 ƒë∆°n!)

‚Üí ƒê√¢y l√† nh·ªØng "**Hidden Gems**" m√† Frequent Pattern Mining ho√†n to√†n b·ªè l·ª°!

---

## üí° ƒê·ªÄ XU·∫§T KINH DOANH

### 1. Cho nh√≥m Stars (789 s·∫£n ph·∫©m)
‚úÖ **∆Øu ti√™n t·ªìn kho cao** - ƒê√¢y l√† s·∫£n ph·∫©m ch·ªß l·ª±c  
‚úÖ **T·∫°o bundle deals** v·ªõi c√°c Stars ƒë·ªÉ tƒÉng gi√° tr·ªã ƒë∆°n h√†ng  
‚úÖ **Marketing m·∫°nh m·∫Ω** - ƒê·∫ßu t∆∞ qu·∫£ng c√°o cho nh√≥m n√†y  
‚úÖ **ƒê·∫£m b·∫£o kh√¥ng thi·∫øu h√†ng** - ·∫¢nh h∆∞·ªüng l·ªõn n·∫øu out of stock

**V√≠ d·ª•:** REGENCY CAKESTAND, WHITE HANGING HEART, PARTY BUNTING

### 2. Cho nh√≥m Hidden Gems (8 s·∫£n ph·∫©m)
üíé **Ph√¢n t√≠ch s√¢u** - T·∫°i sao frequency th·∫•p?  
üíé **TƒÉng visibility** - Marketing, ƒë·∫∑t v·ªã tr√≠ n·ªïi b·∫≠t  
üíé **Target ƒë√∫ng kh√°ch h√†ng** - B2B cho ƒë∆°n l·ªõn?  
üíé **Ch∆∞∆°ng tr√¨nh khuy·∫øn m√£i ƒë·∫∑c bi·ªát** ƒë·ªÉ tƒÉng t·∫ßn su·∫•t

**V√≠ d·ª•:** PAPER CRAFT LITTLE BIRDIE, PICNIC BASKET WICKER

### 3. Chi·∫øn l∆∞·ª£c t·ªïng th·ªÉ
üéØ **Ph√≠ v·∫≠n chuy·ªÉn (DOTCOM POSTAGE):**
- ƒê√°nh gi√° ch√≠nh s√°ch ph√≠ ship hi·ªán t·∫°i
- C√¢n nh·∫Øc free shipping cho ƒë∆°n h√†ng l·ªõn ƒë·ªÉ tƒÉng conversion

üéØ **ƒê∆°n h√†ng B2B:**
- Ph√°t hi·ªán 2 s·∫£n ph·∫©m c√≥ ƒë∆°n gi√° c·ª±c cao (¬£168K v√† ¬£39K)
- Ph√°t tri·ªÉn k√™nh B2B/wholesale ri√™ng bi·ªát

üéØ **Qu·∫£n l√Ω inventory:**
- T·∫≠p trung t·ªìn kho cho top 20 s·∫£n ph·∫©m (chi·∫øm 17.24% doanh thu)
- Gi·∫£m t·ªìn kho c√°c s·∫£n ph·∫©m "Kh√°c" c√≥ utility th·∫•p

---

## üîß H·∫†N CH·∫æ V√Ä H∆Ø·ªöNG PH√ÅT TRI·ªÇN

### H·∫°n ch·∫ø c·ªßa ph√¢n t√≠ch n√†y

1. **Ng∆∞·ª°ng qu√° cao (10%):**
   - Kh√¥ng t√¨m ƒë∆∞·ª£c High-Utility Itemsets (c·∫∑p/b·ªô s·∫£n ph·∫©m)
   - Ch·ªâ ph√¢n t√≠ch ƒë∆∞·ª£c ·ªü m·ª©c single items

2. **ƒê·ªô d√†i itemset gi·ªõi h·∫°n (2):**
   - Kh√¥ng kh√°m ph√° ƒë∆∞·ª£c pattern 3+ s·∫£n ph·∫©m
   - B·ªè l·ª° c√°c bundle ti·ªÅm nƒÉng ph·ª©c t·∫°p h∆°n

3. **Kh√¥ng t√≠nh ƒë·∫øn seasonality:**
   - D·ªØ li·ªáu 2010-2011 c√≥ th·ªÉ ƒë√£ l·ªói th·ªùi
   - Kh√¥ng ph√¢n t√≠ch theo m√πa/th√°ng

### ƒê·ªÅ xu·∫•t ph√°t tri·ªÉn

‚ú® **ƒêi·ªÅu ch·ªânh ng∆∞·ª°ng:**
```
MIN_UTILITY_PERCENT = 0.001  # 0.1% (thay v√¨ 10%)
MAX_ITEMSET_LENGTH = 3       # T√¨m 3-itemsets
```

‚ú® **Ph√¢n t√≠ch theo th·ªùi gian:**
- Mining theo th√°ng/qu√Ω ƒë·ªÉ ph√°t hi·ªán xu h∆∞·ªõng
- Ph√°t hi·ªán s·∫£n ph·∫©m seasonal

‚ú® **K·∫øt h·ª£p Frequent + High-Utility:**
- T√¨m itemsets v·ª´a ph·ªï bi·∫øn v·ª´a sinh l·ªùi
- C√¢n b·∫±ng gi·ªØa reach v√† revenue

‚ú® **Segmentation kh√°ch h√†ng:**
- Ph√¢n t√≠ch HUIM theo segment (B2B vs B2C)
- Personalization g·ª£i √Ω s·∫£n ph·∫©m

---

## üìö K·∫æT LU·∫¨N

### Th√†nh t·ª±u ch√≠nh

1. ‚úÖ **Tri·ªÉn khai th√†nh c√¥ng** thu·∫≠t to√°n High-Utility Itemset Mining v·ªõi TWU-based pruning
2. ‚úÖ **Ph√°t hi·ªán 8 Hidden Gems** - s·∫£n ph·∫©m c√≥ gi√° tr·ªã cao nh∆∞ng b·ªã b·ªè l·ª° b·ªüi Frequent Pattern Mining
3. ‚úÖ **Ph√¢n lo·∫°i 4,007 s·∫£n ph·∫©m** th√†nh Stars, Hidden Gems v√† Other
4. ‚úÖ **X√°c ƒë·ªãnh top 20 s·∫£n ph·∫©m** ƒë√≥ng g√≥p 17.24% t·ªïng doanh thu

### Gi√° tr·ªã kinh doanh

üí∞ **ROI ti·ªÅm nƒÉng:**
- T·ªëi ∆∞u inventory cho top 20: ti·∫øt ki·ªám ~15-20% chi ph√≠
- TƒÉng marketing cho Hidden Gems: tƒÉng 10-30% doanh thu t·ª´ nh√≥m n√†y
- Ph√°t tri·ªÉn k√™nh B2B: khai th√°c th·ªã tr∆∞·ªùng ƒë∆°n h√†ng l·ªõn

üéØ **Actionable insights:**
- 789 Stars c·∫ßn ∆∞u ti√™n t·ªìn kho
- 8 Hidden Gems c·∫ßn tƒÉng marketing
- 2 s·∫£n ph·∫©m B2B c·∫ßn chi·∫øn l∆∞·ª£c ri√™ng

### B√†i h·ªçc v·ªÅ t∆∞ duy

> **"Frequent" ‚â† "Profitable"**

- S·∫£n ph·∫©m b√°n ch·∫°y nh·∫•t kh√¥ng ph·∫£i l√∫c n√†o c≈©ng sinh l·ªùi nh·∫•t
- C·∫ßn k·∫øt h·ª£p c·∫£ Frequency v√† Utility ƒë·ªÉ c√≥ c√°i nh√¨n to√†n di·ªán
- High-Utility Mining gi√∫p ph√°t hi·ªán c∆° h·ªôi kinh doanh ·∫©n

---

## üìñ T√ÄI LI·ªÜU THAM KH·∫¢O

1. Liu, Y., Liao, W., & Choudhary, A. (2005). *A two-phase algorithm for fast discovery of high utility itemsets.* PAKDD 2005.

2. Fournier-Viger, P., et al. (2014). *FHM: Faster high-utility itemset mining using estimated utility co-occurrence pruning.* ISMIS 2014.

3. Gan, W., et al. (2021). *A survey of utility-oriented pattern mining.* IEEE Transactions on Knowledge and Data Engineering.

---

## üìé PH·ª§ L·ª§C

### A. C√¥ng th·ª©c t√≠nh to√°n

**Utility c·ªßa itemset X trong giao d·ªãch T:**
```
U(X, T) = Œ£ q(x, T) √ó p(x)
```

**Transaction-Weighted Utilization:**
```
TWU(X) = Œ£ TU(T_k) for all T_k containing X
```

**T√≠nh ch·∫•t Downward Closure c·ªßa TWU:**
```
If TWU(X) < minUtil ‚Üí T·∫•t c·∫£ superset c·ªßa X kh√¥ng ph·∫£i HUI
```

### B. C·∫•u h√¨nh chi ti·∫øt

```python
# Tham s·ªë ch√≠nh
MIN_UTILITY_PERCENT = 0.1      # 10% t·ªïng utility
MAX_ITEMSET_LENGTH = 2         # 1-itemsets v√† 2-itemsets
CLEANED_DATA_PATH = "data/processed/cleaned_uk_data.csv"
HUI_OUTPUT_PATH = "data/processed/high_utility_itemsets.csv"

# M√†u s·∫Øc visualization
COLOR_BLUE = '#3498db'    # Xanh d∆∞∆°ng - Frequency
COLOR_GREEN = '#2ecc71'   # Xanh l√° - Utility
COLOR_ORANGE = '#e67e22'  # Cam - Highlights
```

### C. Files output

1. `high_utility_itemsets.csv` - Danh s√°ch HUI (r·ªóng v·ªõi ng∆∞·ª°ng 10%)
2. `item_utility_frequency_comparison.csv` - So s√°nh Utility vs Frequency
3. `Lab_PhatTrien_5315_run.ipynb` - Notebook ƒë√£ ch·∫°y v·ªõi outputs

---

**üìß Contact:** Lab_PhatTrien_5315  
**üìÖ Last Updated:** 20/12/2025  
**‚è±Ô∏è Processing Time:** 49.39 seconds  
**üíæ Data Size:** 485,123 transactions, 18,021 invoices, 4,007 products
